<!DOCTYPE project [
       <!ENTITY build-core SYSTEM "build-core.xml">
]>
<project
  xmlns:if="ant:if"
    xmlns:unless="ant:unless">
    
  <property name="builddir" value="${user.home}/Documents/Process/DataProvenance/RDataTracker"/>
  <loadproperties srcFile="DESCRIPTION_prov" />
  <property name="tarfile" value="provR_${Version}.tar.gz" />

    <target name="roxygen" depends="copy-to-directory">
    	<exec dir="${builddir}" executable="Rscript" >
      <arg line="-e roxygen2::roxygenise()" />
    </exec>
      	<copy overwrite="true" todir="man_prov">
      		<fileset dir="${builddir}/man" />
      	</copy>
    </target>

    <target name="copy-to-directory" depends="build-directory">
        <copy overwrite="true" file="inst/CITATION" todir="${builddir}/inst"/>
    	<copy overwrite="true" todir="${builddir}/R">
    		<fileset dir="R"
      			excludes="DDGCheckpoint.R, *_rdt.R"/>
  		</copy>
        <copy overwrite="true" file="DESCRIPTION_prov" tofile="${builddir}/DESCRIPTION"/>
        <copy overwrite="true" file="LICENSE" todir="${builddir}"/>
        <copy overwrite="true" file="README.md" todir="${builddir}"/>
    </target>
    
	&build-core;
	
</project>
