# R for travis: see documentation at https://docs.travis-ci.com/user/languages/r

dist: trusty
sudo: required
language: R
sudo: false
cache: packages

addons:
  apt:
    packages:
      libicu-dev
      ant
      r-cran-digest
      r-cran-rcurl
      r-cran-v8
      libfreetype6-dev
      r-cran-chron
      r-cran-zoo
      r-cran-shiny
      r-cran-ggplot2
      r-cran-gdata
      r-cran-gridbase
      r-cran-gridextra
      r-cran-reshape2
      r-cran-plyr
      

r_packages:
  - devtools
  - ggplot2
  - gplots
  - RCurl
  - roxygen2
  - stringi
  - stringr
  - withr
  - XML

install: true

before_script:
  - "export DISPLAY=:99.0"
  - "sh -e /etc/init.d/xvfb start"
  - sleep 3

script:
  - ant -file build-rdt.xml install
  - ant -file tests.xml test-travis

notifications:
  slack: endtoendprovenance:WxevOs6n66eZRbCn9HcW2mGD
